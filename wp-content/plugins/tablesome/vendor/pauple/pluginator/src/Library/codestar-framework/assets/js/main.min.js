!function(e,t,n,i){"use strict";var s={funcs:{}};s.vars={onloaded:!1,$body:e("body"),$window:e(t),$document:e(n),$form_warning:null,is_confirm:!1,form_modified:!1,code_themes:[],is_rtl:e("body").hasClass("rtl")},s.helper={uid:function(e){return(e||"")+Math.random().toString(36).substr(2,9)},preg_quote:function(e){return(e+"").replace(/(\[|\])/g,"\\$1")},name_nested_replace:function(t,n){var i=new RegExp(s.helper.preg_quote(n+"[\\d+]"),"g");t.find(":radio").each((function(){(this.checked||this.orginal_checked)&&(this.orginal_checked=!0)})),t.each((function(t){e(this).find(":input").each((function(){this.name=this.name.replace(i,n+"["+t+"]"),this.orginal_checked&&(this.checked=!0)}))}))},debounce:function(e,t,n){var i;return function(){var s=this,c=arguments,a=n&&!i;clearTimeout(i),i=setTimeout((function(){i=null,n||e.apply(s,c)}),t),a&&e.apply(s,c)}}},e.fn.csf_clone=function(){for(var t=e.fn.clone.apply(this,arguments),n=this.find("select").add(this.filter("select")),i=t.find("select").add(t.filter("select")),s=0;s<n.length;++s)for(var c=0;c<n[s].options.length;++c)!0===n[s].options[c].selected&&(i[s].options[c].selected=!0);return this.find(":radio").each((function(){this.orginal_checked=this.checked})),t},e.fn.csf_expand_all=function(){return this.each((function(){e(this).on("click",(function(t){t.preventDefault(),e(".csf-wrapper").toggleClass("csf-show-all"),e(".csf-section").csf_reload_script(),e(this).find(".fa").toggleClass("fa-indent").toggleClass("fa-outdent")}))}))},e.fn.csf_nav_options=function(){return this.each((function(){var n,i=e(this),s=e(t),c=e("#wpwrap"),a=i.find("a");s.on("hashchange csf.hashchange",(function(){var i=(i=t.location.hash.replace("#tab=",""))||a.first().attr("href").replace("#tab=",""),s=e('[data-tab-id="'+i+'"]');s.length&&(s.closest(".csf-tab-item").addClass("csf-tab-expanded").siblings().removeClass("csf-tab-expanded"),s.next().is("ul")&&(i=(s=s.next().find("li").first().find("a")).data("tab-id")),a.removeClass("csf-active"),s.addClass("csf-active"),n&&n.addClass("hidden"),(s=e('[data-section-id="'+i+'"]')).removeClass("hidden"),s.csf_reload_script(),e(".csf-section-id").val(s.index()+1),n=s,c.hasClass("wp-responsive-open")&&(e("html, body").animate({scrollTop:s.offset().top-50},200),c.removeClass("wp-responsive-open")))})).trigger("csf.hashchange")}))},e.fn.csf_nav_metabox=function(){return this.each((function(){var t,n=e(this),s=n.find("a"),c=n.parent().find(".csf-section");s.each((function(n){e(this).on("click",(function(a){a.preventDefault(),a=e(this),s.removeClass("csf-active"),a.addClass("csf-active"),t!==i&&t.addClass("hidden"),(a=c.eq(n)).removeClass("hidden"),a.csf_reload_script(),t=a}))})),s.first().trigger("click")}))},e.fn.csf_page_templates=function(){this.length&&e(n).on("change",".editor-page-attributes__template select, #page_template, .edit-post-post-status + div select",(function(){var t=e(this).val()||"default";e(".csf-page-templates").removeClass("csf-metabox-show").addClass("csf-metabox-hide"),e(".csf-page-"+t.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"-")).removeClass("csf-metabox-hide").addClass("csf-metabox-show")}))},e.fn.csf_post_formats=function(){this.length&&e(n).on("change",'.editor-post-format select, #formatdiv input[name="post_format"]',(function(){var t="0"===(t=e(this).val()||"default")?"default":t;e(".csf-post-formats").removeClass("csf-metabox-show").addClass("csf-metabox-hide"),e(".csf-post-format-"+t).removeClass("csf-metabox-hide").addClass("csf-metabox-show")}))},e.fn.csf_search=function(){return this.each((function(){e(this).find("input").on("change keyup",(function(){var t=e(this).val(),n=e(".csf-wrapper"),i=n.find(".csf-section").find("> .csf-field:not(.csf-depend-on)"),s=i.find("> .csf-title, .csf-search-tags");3<t.length?(i.addClass("csf-metabox-hide"),n.addClass("csf-search-all"),s.each((function(){var n=e(this);n.text().match(new RegExp(".*?"+t+".*?","i"))&&((n=n.closest(".csf-field")).removeClass("csf-metabox-hide"),n.parent().csf_reload_script())}))):(i.removeClass("csf-metabox-hide"),n.removeClass("csf-search-all"))}))}))},e.fn.csf_sticky=function(){return this.each((function(){function n(){r=s.scrollTop(),f()}var i=e(this),s=e(t),c=i.find(".csf-header-inner"),a=parseInt(c.css("padding-left"))+parseInt(c.css("padding-right")),r=0,o=!1,f=function(){o||requestAnimationFrame((function(){(function(){var e=i.offset().top,t=(e=Math.max(32,e-r),s.innerWidth());e<=32&&782<t?(c.css({width:i.outerWidth()-a}),i.css({height:i.outerHeight()}).addClass("csf-sticky")):(c.removeAttr("style"),i.removeAttr("style").removeClass("csf-sticky"))})(),o=!1})),o=!0};s.on("scroll resize",n),n()}))},e.fn.csf_dependency=function(){return this.each((function(){var t,n,i,c,a=e(this),r=a.children("[data-controller]");r.length&&(t=e.csf_deps.createRuleset(),n=e.csf_deps.createRuleset(),i=[],c=[],r.each((function(){var s=e(this),a=s.data("controller").split("|"),r=s.data("condition").split("|"),o=s.data("value").toString().split("|"),f=!!s.data("depend-global"),l=f?n:t;e.each(a,(function(e,t){var n=o[e]||"";e=r[e]||r[0];(l=l.createRule('[data-depend-id="'+t+'"]',e,n)).include(s),(f?c:i).push(t)}))})),i.length&&e.csf_deps.enable(a,t,i),c.length&&e.csf_deps.enable(s.vars.$body,n,c))}))},e.fn.csf_field_accordion=function(){return this.each((function(){e(this).find(".csf-accordion-title").on("click",(function(){var t=(n=e(this)).find(".csf-accordion-icon"),n=n.next();t.hasClass("fa-angle-right")?t.removeClass("fa-angle-right").addClass("fa-angle-down"):t.removeClass("fa-angle-down").addClass("fa-angle-right"),n.data("opened")||(n.csf_reload_script(),n.data("opened",!0)),n.toggleClass("csf-accordion-open")}))}))},e.fn.csf_field_backup=function(){return this.each((function(){var n,c,a,r;t.wp.customize!==i&&(c=e(n=this),e("body"),a=c.find(".csf-import"),r=c.find(".csf-reset"),n.notificationOverlay=function(){wp.customize.notifications&&wp.customize.OverlayNotification&&(wp.customize.state("saved").get()||(wp.customize.state("changesetStatus").set("trash"),wp.customize.each((function(e){e._dirty=!1})),wp.customize.state("saved").set(!0)),wp.customize.notifications.add(new wp.customize.OverlayNotification("csf_field_backup_notification",{type:"default",message:"&nbsp;",loading:!0})))},r.on("click",(function(e){e.preventDefault(),s.vars.is_confirm&&(n.notificationOverlay(),t.wp.ajax.post("csf-reset",{unique:r.data("unique"),nonce:r.data("nonce")}).done((function(e){t.location.reload(!0)})).fail((function(e){alert(e.error),wp.customize.notifications.remove("csf_field_backup_notification")})))})),a.on("click",(function(e){e.preventDefault(),s.vars.is_confirm&&(n.notificationOverlay(),t.wp.ajax.post("csf-import",{unique:a.data("unique"),nonce:a.data("nonce"),data:c.find(".csf-import-data").val()}).done((function(e){t.location.reload(!0)})).fail((function(e){alert(e.error),wp.customize.notifications.remove("csf_field_backup_notification")})))})))}))},e.fn.csf_field_background=function(){return this.each((function(){e(this).find(".csf--background-image").csf_reload_script()}))},e.fn.csf_field_code_editor=function(){return this.each((function(){var t,n,i,c,a;"function"==typeof CodeMirror&&(t=e(this),n=t.find("textarea"),i=t.find(".CodeMirror"),c=n.data("editor"),i.length&&i.remove(),a=setInterval((function(){var i,r;t.is(":visible")&&(i=CodeMirror.fromTextArea(n[0],c),"default"!==c.theme&&-1===s.vars.code_themes.indexOf(c.theme)&&(r=e("<link>"),e("#csf-codemirror-css").after(r),r.attr({rel:"stylesheet",id:"csf-codemirror-"+c.theme+"-css",href:c.cdnURL+"/theme/"+c.theme+".min.css",type:"text/css",media:"all"}),s.vars.code_themes.push(c.theme)),CodeMirror.modeURL=c.cdnURL+"/mode/%N/%N.min.js",CodeMirror.autoLoadMode(i,c.mode),i.on("change",(function(e,t){n.val(i.getValue()).trigger("change")})),clearInterval(a))})))}))},e.fn.csf_field_date=function(){return this.each((function(){var t=e(this),n=t.find("input"),i=t.find(".csf-date-settings").data("settings");i=e.extend({},i,{showAnim:"",beforeShow:function(t,n){e(n.dpDiv).addClass("csf-datepicker-wrapper")},onClose:function(t,n){e(n.dpDiv).removeClass("csf-datepicker-wrapper")}});2===n.length&&(i=e.extend({},i,{onSelect:function(t){e(this),n.first();var s=n.first().attr("id")===e(this).attr("id")?"minDate":"maxDate";t=e.datepicker.parseDate(i.dateFormat,t);n.not(this).datepicker("option",s,t)}})),n.each((function(){var t=e(this);t.hasClass("hasDatepicker")&&t.removeAttr("id").removeClass("hasDatepicker"),t.datepicker(i)}))}))},e.fn.csf_field_datetime=function(){return this.each((function(){var t=e(this),n=t.find("input"),i=t.find(".csf-datetime-settings").data("settings");i=e.extend({},i,{onReady:function(t,n,i){e(i.calendarContainer).addClass("csf-flatpickr")}});2===n.length&&(i=e.extend({},i,{onChange:function(t,i,s){"from"===e(s.element).data("type")?n.last().get(0)._flatpickr.set("minDate",t[0]):n.first().get(0)._flatpickr.set("maxDate",t[0])}})),n.each((function(){e(this).flatpickr(i)}))}))},e.fn.csf_field_fieldset=function(){return this.each((function(){e(this).find(".csf-fieldset-content").csf_reload_script()}))},e.fn.csf_field_gallery=function(){return this.each((function(){var n,i=e(this),s=i.find(".csf-edit-gallery"),c=i.find(".csf-clear-gallery"),a=i.find("ul"),r=i.find("input");i.find("img"),i.on("click",".csf-button, .csf-edit-gallery",(function(i){var o=e(this),f=r.val(),l="add"!=(o=o.hasClass("csf-edit-gallery")?"edit":"add")||f.length?"gallery-edit":"gallery";i.preventDefault(),void 0!==t.wp&&t.wp.media&&t.wp.media.gallery&&("gallery"==l?(n=t.wp.media({library:{type:"image"},frame:"post",state:"gallery",multiple:!0})).open():(n=t.wp.media.gallery.edit('[gallery ids="'+f+'"]'),"add"==o&&n.setState("gallery-library")),n.on("update",(function(e){a.empty(),e=e.models.map((function(e){var t=((e=e.toJSON()).sizes&&e.sizes.thumbnail&&e.sizes.thumbnail.url?e.sizes.thumbnail:e).url;return a.append('<li><img src="'+t+'"></li>'),e.id})),r.val(e.join(",")).trigger("change"),c.removeClass("hidden"),s.removeClass("hidden")})))})),c.on("click",(function(e){e.preventDefault(),a.empty(),r.val("").trigger("change"),c.addClass("hidden"),s.addClass("hidden")}))}))},e.fn.csf_field_group=function(){return this.each((function(){function t(t){t.preventDefault();var n,i,c,r;t=a.children(".csf-cloneable-item").length;f.hide(),u&&u<t+1?o.show():(n=(t=e(this).parent().parent()).children(".csf-cloneable-helper").csf_clone(!0),i=t.children(".csf-cloneable-title").csf_clone(),c=t.children(".csf-cloneable-content").csf_clone(),(r=e('<div class="csf-cloneable-item" />')).append(n),r.append(i),r.append(c),a.children().eq(t.index()).after(r),s.helper.name_nested_replace(a.children(".csf-cloneable-item"),h),a.accordion("refresh"),a.csf_customizer_refresh(),a.csf_customizer_listen({closest:!0}),p&&v(a))}function n(t){t.preventDefault(),t=a.children(".csf-cloneable-item").length,o.hide(),f.hide(),g&&t-1<g?f.show():(e(this).closest(".csf-cloneable-item").remove(),s.helper.name_nested_replace(a.children(".csf-cloneable-item"),h),a.csf_customizer_refresh(),p&&v(a))}var i,c=e(this),a=(i=(i=c.children(".csf-fieldset")).length?i:c).children(".csf-cloneable-wrapper"),r=i.children(".csf-cloneable-hidden"),o=i.children(".csf-cloneable-max"),f=i.children(".csf-cloneable-min"),l=a.data("title-by"),d=a.data("title-by-prefix"),h=a.data("field-id"),p=Boolean(Number(a.data("title-number"))),u=parseInt(a.data("max")),g=parseInt(a.data("min")),v=(a.hasClass("ui-accordion")&&a.find(".ui-accordion-header-icon").remove(),function(t){t.find(".csf-cloneable-title-number").each((function(t){e(this).html(e(this).closest(".csf-cloneable-item").index()+1+".")}))});a.accordion({header:"> .csf-cloneable-item > .csf-cloneable-title",collapsible:!0,active:!1,animate:!1,heightStyle:"content",icons:{header:"csf-cloneable-header-icon fas fa-angle-right",activeHeader:"csf-cloneable-header-icon fas fa-angle-down"},activate:function(t,n){var i,s,c=n.newPanel;n=n.newHeader;c.length&&!c.data("opened")?(i=n.find(".csf-cloneable-value"),s=[],e.each(l,(function(e,t){s.push(c.find('[data-depend-id="'+t+'"]'))})),e.each(s,(function(t,n){n.on("change keyup csf.keyup",(function(){var t=[];e.each(s,(function(e,n){(n=n.val())&&t.push(n)})),t.length&&i.text(t.join(d))})).trigger("csf.keyup")})),c.csf_reload_script(),c.data("opened",!0),c.data("retry",!1)):c.data("retry")&&(c.csf_reload_script_retry(),c.data("retry",!1))}}),a.sortable({axis:"y",handle:".csf-cloneable-title,.csf-cloneable-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",start:function(e,t){a.accordion({active:!1}),a.sortable("refreshPositions"),t.item.children(".csf-cloneable-content").data("retry",!0)},update:function(e,t){s.helper.name_nested_replace(a.children(".csf-cloneable-item"),h),a.csf_customizer_refresh(),p&&v(a)}}),i.children(".csf-cloneable-add").on("click",(function(e){e.preventDefault();var t=a.children(".csf-cloneable-item").length;f.hide(),u&&u<t+1?o.show():((e=r.csf_clone(!0)).removeClass("csf-cloneable-hidden"),e.find(':input[name!="_pseudo"]').each((function(){this.name=this.name.replace("___","").replace(h+"[0]",h+"["+t+"]")})),a.append(e),a.accordion("refresh"),a.accordion({active:t}),a.csf_customizer_refresh(),a.csf_customizer_listen({closest:!0}),p&&v(a))})),a.children(".csf-cloneable-item").children(".csf-cloneable-helper").on("click",".csf-cloneable-clone",t),i.children(".csf-cloneable-hidden").children(".csf-cloneable-helper").on("click",".csf-cloneable-clone",t),a.children(".csf-cloneable-item").children(".csf-cloneable-helper").on("click",".csf-cloneable-remove",n),i.children(".csf-cloneable-hidden").children(".csf-cloneable-helper").on("click",".csf-cloneable-remove",n)}))},e.fn.csf_field_icon=function(){return this.each((function(){var n=e(this);n.on("click",".csf-icon-add",(function(i){i.preventDefault();i=e(this);var c=e("#csf-modal-icon");c.removeClass("hidden"),s.vars.$icon_target=n,s.vars.icon_modal_loaded||(c.find(".csf-modal-loading").show(),t.wp.ajax.post("csf-get-icons",{nonce:i.data("nonce")}).done((function(t){c.find(".csf-modal-loading").hide(),s.vars.icon_modal_loaded=!0;var n=c.find(".csf-modal-load").html(t.content);n.on("click","i",(function(t){t.preventDefault(),t=e(this).attr("title"),s.vars.$icon_target.find(".csf-icon-preview i").removeAttr("class").addClass(t),s.vars.$icon_target.find(".csf-icon-preview").removeClass("hidden"),s.vars.$icon_target.find(".csf-icon-remove").removeClass("hidden"),s.vars.$icon_target.find("input").val(t).trigger("change"),c.addClass("hidden")})),c.on("change keyup",".csf-icon-search",(function(){var t=e(this).val();n.find("i").each((function(){var n=e(this);n.attr("title").search(new RegExp(t,"i"))<0?n.hide():n.show()}))})),c.on("click",".csf-modal-close, .csf-modal-overlay",(function(){c.addClass("hidden")}))})).fail((function(e){c.find(".csf-modal-loading").hide(),c.find(".csf-modal-load").html(e.error),c.on("click",(function(){c.addClass("hidden")}))})))})),n.on("click",".csf-icon-remove",(function(t){t.preventDefault(),n.find(".csf-icon-preview").addClass("hidden"),n.find("input").val("").trigger("change"),e(this).addClass("hidden")}))}))},e.fn.csf_field_map=function(){return this.each((function(){var t,n,i,s,c,a,r,o,f,l,d;"undefined"!=typeof L&&(d=(t=e(this)).find(".csf--map-osm"),n=t.find(".csf--map-search input"),i=t.find(".csf--latitude"),s=t.find(".csf--longitude"),c=t.find(".csf--zoom"),a=d.data("map"),r=L.map(d.get(0),a),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(r),o=L.marker(a.center,{draggable:!0}).addTo(r),f=function(e){i.val(e.lat),s.val(e.lng),c.val(r.getZoom())},r.on("click",(function(e){o.setLatLng(e.latlng),f(e.latlng)})),r.on("zoom",(function(){f(o.getLatLng())})),o.on("drag",(function(){f(o.getLatLng())})),n.length||(n=e('[data-depend-id="'+t.find(".csf--address-field").data("address-field")+'"]')),l={},n.autocomplete({source:function(t,n){var i=t.term;i in l?n(l[i]):e.get("https://nominatim.openstreetmap.org/search",{format:"json",q:i},(function(e){e=e.length?e.map((function(e){return{value:e.display_name,label:e.display_name,lat:e.lat,lon:e.lon}}),"json"):[{value:"no-data",label:"No Results."}],l[i]=e,n(e)}))},select:function(e,t){if("no-data"===t.item.value)return!1;t=L.latLng(t.item.lat,t.item.lon),r.panTo(t),o.setLatLng(t),f(t)},create:function(t,n){e(this).autocomplete("widget").addClass("csf-map-ui-autocomplate")}}),i.on("change",d=function(){var e=L.latLng(i.val(),s.val());r.panTo(e),o.setLatLng(e)}),s.on("change",d))}))},e.fn.csf_field_link=function(){return this.each((function(){var n=e(this),i=n.find(".csf--link"),c=n.find(".csf--add"),a=n.find(".csf--edit"),r=n.find(".csf--remove"),o=n.find(".csf--result"),f=s.helper.uid("csf-wplink-textarea-");c.on("click",(function(e){e.preventDefault(),t.wpLink.open(f)})),a.on("click",(function(t){t.preventDefault(),c.trigger("click"),e("#wp-link-url").val(n.find(".csf--url").val()),e("#wp-link-text").val(n.find(".csf--text").val()),e("#wp-link-target").prop("checked","_blank"===n.find(".csf--target").val())})),r.on("click",(function(e){e.preventDefault(),n.find(".csf--url").val("").trigger("change"),n.find(".csf--text").val(""),n.find(".csf--target").val(""),c.removeClass("hidden"),a.addClass("hidden"),r.addClass("hidden"),o.parent().addClass("hidden")})),i.attr("id",f).on("change",(function(){var i=(f=t.wpLink.getAttrs()).href,s=e("#wp-link-text").val(),f=f.target||"";n.find(".csf--url").val(i).trigger("change"),n.find(".csf--text").val(s),n.find(".csf--target").val(f),o.html('{url:"'+i+'", text:"'+s+'", target:"'+f+'"}'),c.addClass("hidden"),a.removeClass("hidden"),r.removeClass("hidden"),o.parent().removeClass("hidden")}))}))},e.fn.csf_field_media=function(){return this.each((function(){var n,i=e(this),s=i.find(".csf--button"),c=i.find(".csf--remove"),a=s.data("library")&&s.data("library").split(",")||"",r=!!i.hasClass("csf-assign-field-background")&&i.closest(".csf-field-background").find(".csf--auto-attributes");s.on("click",(function(e){e.preventDefault(),void 0!==t.wp&&t.wp.media&&t.wp.media.gallery&&(n||(n=t.wp.media({library:{type:a}})).on("select",(function(){var e=n.state().get("selection").first().attributes,t=s.data("preview-size")||"thumbnail";a.length&&-1===a.indexOf(e.subtype)&&-1===a.indexOf(e.type)||(i.find(".csf--id").val(e.id),i.find(".csf--width").val(e.width),i.find(".csf--height").val(e.height),i.find(".csf--alt").val(e.alt),i.find(".csf--title").val(e.title),i.find(".csf--description").val(e.description),t=void 0!==e.sizes&&void 0!==e.sizes.thumbnail&&"thumbnail"===t?e.sizes.thumbnail.url:void 0!==e.sizes&&void 0!==e.sizes.full?e.sizes.full.url:"image"===e.type?e.url:e.icon,r&&r.removeClass("csf--attributes-hidden"),c.removeClass("hidden"),i.find(".csf--preview").removeClass("hidden"),i.find(".csf--src").attr("src",t),i.find(".csf--thumbnail").val(t),i.find(".csf--url").val(e.url).trigger("change"))})),n.open())})),c.on("click",(function(e){e.preventDefault(),r&&r.addClass("csf--attributes-hidden"),c.addClass("hidden"),i.find("input").val(""),i.find(".csf--preview").addClass("hidden"),i.find(".csf--url").trigger("change")}))}))},e.fn.csf_field_repeater=function(){return this.each((function(){function t(t){t.preventDefault();var n,i,c;t=a.children(".csf-repeater-item").length;f.hide(),d&&d<t+1?o.show():(n=(t=e(this).parent().parent().parent()).children(".csf-repeater-content").csf_clone(),i=t.children(".csf-repeater-helper").csf_clone(!0),(c=e('<div class="csf-repeater-item" />')).append(n),c.append(i),a.children().eq(t.index()).after(c),c.children(".csf-repeater-content").csf_reload_script(),s.helper.name_nested_replace(a.children(".csf-repeater-item"),l),a.csf_customizer_refresh(),a.csf_customizer_listen({closest:!0}))}function n(t){t.preventDefault(),t=a.children(".csf-repeater-item").length,o.hide(),f.hide(),h&&t-1<h?f.show():(e(this).closest(".csf-repeater-item").remove(),s.helper.name_nested_replace(a.children(".csf-repeater-item"),l),a.csf_customizer_refresh())}var i,c=e(this),a=(i=(i=c.children(".csf-fieldset")).length?i:c).children(".csf-repeater-wrapper"),r=i.children(".csf-repeater-hidden"),o=i.children(".csf-repeater-max"),f=i.children(".csf-repeater-min"),l=a.data("field-id"),d=parseInt(a.data("max")),h=parseInt(a.data("min"));a.children(".csf-repeater-item").children(".csf-repeater-content").csf_reload_script(),a.sortable({axis:"y",handle:".csf-repeater-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(e,t){s.helper.name_nested_replace(a.children(".csf-repeater-item"),l),a.csf_customizer_refresh(),t.item.csf_reload_script_retry()}}),i.children(".csf-repeater-add").on("click",(function(e){e.preventDefault();var t=a.children(".csf-repeater-item").length;f.hide(),d&&d<t+1?o.show():((e=r.csf_clone(!0)).removeClass("csf-repeater-hidden"),e.find(':input[name!="_pseudo"]').each((function(){this.name=this.name.replace("___","").replace(l+"[0]",l+"["+t+"]")})),a.append(e),e.children(".csf-repeater-content").csf_reload_script(),a.csf_customizer_refresh(),a.csf_customizer_listen({closest:!0}))})),a.children(".csf-repeater-item").children(".csf-repeater-helper").on("click",".csf-repeater-clone",t),i.children(".csf-repeater-hidden").children(".csf-repeater-helper").on("click",".csf-repeater-clone",t),a.children(".csf-repeater-item").children(".csf-repeater-helper").on("click",".csf-repeater-remove",n),i.children(".csf-repeater-hidden").children(".csf-repeater-helper").on("click",".csf-repeater-remove",n)}))},e.fn.csf_field_slider=function(){return this.each((function(){var t=(i=e(this)).find("input"),n=i.find(".csf-slider-ui"),i=t.data(),s=t.val()||0;n.hasClass("ui-slider")&&n.empty(),n.slider({range:"min",value:s,min:i.min||0,max:i.max||100,step:i.step||1,slide:function(e,n){t.val(n.value).trigger("change")}}),t.on("keyup",(function(){n.slider("value",t.val())}))}))},e.fn.csf_field_sortable=function(){return this.each((function(){var t=e(this).find(".csf-sortable");t.sortable({axis:"y",helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(e,n){t.csf_customizer_refresh()}}),t.find(".csf-sortable-content").csf_reload_script()}))},e.fn.csf_field_sorter=function(){return this.each((function(){var t=e(this),n=t.find(".csf-enabled"),i=!!(i=t.find(".csf-disabled")).length&&i;n.sortable({connectWith:i,placeholder:"ui-sortable-placeholder",update:function(e,n){var i=n.item.find("input");n.item.parent().hasClass("csf-enabled")?i.attr("name",i.attr("name").replace("disabled","enabled")):i.attr("name",i.attr("name").replace("enabled","disabled")),t.csf_customizer_refresh()}}),i&&i.sortable({connectWith:n,placeholder:"ui-sortable-placeholder",update:function(e,n){t.csf_customizer_refresh()}})}))},e.fn.csf_field_spinner=function(){return this.each((function(){var t=(n=e(this)).find("input"),n=n.find(".ui-button"),i=t.data();n.length&&n.remove(),t.spinner({min:i.min||0,max:i.max||100,step:i.step||1,create:function(e,n){i.unit&&t.after('<span class="ui-button csf--unit">'+i.unit+"</span>")},spin:function(e,n){t.val(n.value).trigger("change")}})}))},e.fn.csf_field_switcher=function(){return this.each((function(){var t=e(this).find(".csf--switcher");t.on("click",(function(){var e=0,n=t.find("input");t.hasClass("csf--active")?t.removeClass("csf--active"):(e=1,t.addClass("csf--active")),n.val(e).trigger("change")}))}))},e.fn.csf_field_tabbed=function(){return this.each((function(){var t=e(this),n=t.find(".csf-tabbed-nav a"),i=t.find(".csf-tabbed-content");i.eq(0).csf_reload_script(),n.on("click",(function(t){t.preventDefault();var n=(t=e(this)).index();n=i.eq(n);t.addClass("csf-tabbed-active").siblings().removeClass("csf-tabbed-active"),n.csf_reload_script(),n.removeClass("hidden").siblings().addClass("hidden")}))}))},e.fn.csf_field_typography=function(){return this.each((function(){var t=this,n=e(this),i=[],c=csf_typography_json.webfonts,a=csf_typography_json.googlestyles,r=csf_typography_json.defaultstyles;t.sanitize_subset=function(e){return(e=e.replace("-ext"," Extended")).charAt(0).toUpperCase()+e.slice(1)},t.sanitize_style=function(e){return a[e]||e},t.load_google_font=function(e,t,n){e&&"object"==typeof WebFont&&(t=t?t.replace("normal",""):"",n=n?n.replace("normal",""):"",-1===i.indexOf(e=t||n?e+":"+t+n:e)&&WebFont.load({google:{families:[e]}}),i.push(e))},t.append_select_options=function(n,i,s,c,a){n.find("option").not(":first").remove();var r="";e.each(i,(function(e,n){var i=n,o=a?s&&-1!==s.indexOf(n)?" selected":"":s&&s===n?" selected":"";"subset"===c?i=t.sanitize_subset(n):"style"===c&&(i=t.sanitize_style(n)),r+='<option value="'+n+'"'+o+">"+i+"</option>"})),n.append(r).trigger("csf.change").trigger("chosen:updated")},t.init=function(){var i,a,o,f,l,d,h,p,u,g=[],v=n.find(".csf--typography"),m=n.find(".csf--type"),_=n.find(".csf--block-font-style"),b=v.data("unit"),y=v.data("line-height-unit"),w=v.data("exclude")?v.data("exclude").split(","):[],C=(n.find(".csf--chosen").length&&n.find("select").each((function(){var t=e(this),n=t.parent().find(".chosen-container");n.length&&n.remove(),t.chosen({allow_single_deselect:!0,disable_search_threshold:15,width:"100%"})})),n.find(".csf--font-family")),k=C.val(),x=(C.find("option").not(":first-child").remove(),""),z=(e.each(c,(function(t,n){w&&-1!==w.indexOf(t)||(x+='<optgroup label="'+n.label+'">',e.each(n.fonts,(function(e,n){x+='<option value="'+(n="object"==typeof n?e:n)+'" data-type="'+t+'"'+(n===k?" selected":"")+">"+n+"</option>"})),x+="</optgroup>")})),C.append(x).trigger("chosen:updated"),n.find(".csf--block-font-style")),D=(z.length&&(i=n.find(".csf--font-style-select"),a=i.val()?i.val().replace(/normal/g,""):"",i.on("change csf.change",(function(e){var t=(s=!(s=i.val())&&g&&-1===g.indexOf("normal")?g[0]:s)&&"italic"!==s&&"normal"===s?"normal":"",s=(t=s&&"italic"!==s&&"normal"!==s?s.replace("italic",""):t,s&&"italic"===s.substr(-6)?"italic":"");n.find(".csf--font-weight").val(t),n.find(".csf--font-style").val(s)})),(o=n.find(".csf--block-extra-styles")).length&&(f=n.find(".csf--extra-styles"),l=f.val())),n.find(".csf--block-subset")),O=(D.length&&(d=n.find(".csf--subset"),h=d.val(),p=d.data("multiple")||!1),n.find(".csf--block-backup-font-family")),S=(C.on("change csf.change",(function(e){D.length&&D.addClass("hidden"),o.length&&o.addClass("hidden"),O.length&&O.addClass("hidden");var n,s,u,v=(u=C.find(":selected")).val();(u=u.data("type"))&&v?("google"!==u&&"custom"!==u||!O.length||O.removeClass("hidden"),z.length&&(s=r,"google"===u&&c[u].fonts[v][0]?s=c[u].fonts[v][0]:"custom"===u&&c[u].fonts[v]&&(s=c[u].fonts[v]),n=-1!==(g=s).indexOf("normal")?"normal":s[0],n=a&&-1!==s.indexOf(a)?a:n,t.append_select_options(i,s,n,"style"),a=!1,z.removeClass("hidden"),"google"===u&&o.length&&1<s.length&&(t.append_select_options(f,s,l,"style",!0),l=!1,o.removeClass("hidden"))),"google"===u&&D.length&&c[u].fonts[v][1]&&(s=(n=c[u].fonts[v][1]).length<2&&"latin"!==n[0]?n[0]:"",v=h&&-1!==n.indexOf(h)?h:s,v=p&&h?h:v,t.append_select_options(d,n,v,"subset",p),h=!1,D.removeClass("hidden"))):(_.find(":input").val(""),D.length&&(d.find("option").not(":first-child").remove(),d.trigger("chosen:updated")),z.length&&(i.find("option").not(":first-child").remove(),i.trigger("chosen:updated"))),m.val(u)})).trigger("csf.change"),n.find(".csf--block-preview"));S.length&&(u=n.find(".csf--preview"),n.on("change",s.helper.debounce((function(e){S.removeClass("hidden");var i=C.val(),s=n.find(".csf--font-weight").val(),c=n.find(".csf--font-style").val(),a=n.find(".csf--font-size").val(),r=n.find(".csf--font-variant").val(),o=n.find(".csf--line-height").val(),f=n.find(".csf--text-align").val(),l=n.find(".csf--text-transform").val(),d=n.find(".csf--text-decoration").val(),h=n.find(".csf--color").val(),p=n.find(".csf--word-spacing").val(),g=n.find(".csf--letter-spacing").val(),v=n.find(".csf--custom-style").val(),m=("google"===n.find(".csf--type").val()&&t.load_google_font(i,s,c),{});i&&(m.fontFamily=i),s&&(m.fontWeight=s),c&&(m.fontStyle=c),r&&(m.fontVariant=r),a&&(m.fontSize=a+b),o&&(m.lineHeight=o+y),g&&(m.letterSpacing=g+b),p&&(m.wordSpacing=p+b),f&&(m.textAlign=f),l&&(m.textTransform=l),d&&(m.textDecoration=d),h&&(m.color=h),u.removeAttr("style"),v&&u.attr("style",v),u.css(m)}),100)),S.on("click",(function(){u.toggleClass("csf--black-background");var e=S.find(".csf--toggle");e.hasClass("fa-toggle-off")?e.removeClass("fa-toggle-off").addClass("fa-toggle-on"):e.removeClass("fa-toggle-on").addClass("fa-toggle-off")})),S.hasClass("hidden")||n.trigger("change"))},t.init()}))},e.fn.csf_field_upload=function(){return this.each((function(){var n,i=e(this),s=i.find("input"),c=i.find(".csf--button"),a=i.find(".csf--remove"),r=i.find(".csf--preview"),o=i.find(".csf--src"),f=c.data("library")&&c.data("library").split(",")||"";c.on("click",(function(e){e.preventDefault(),void 0!==t.wp&&t.wp.media&&t.wp.media.gallery&&(n||(n=t.wp.media({library:{type:f}})).on("select",(function(){var e=n.state().get("selection").first().attributes;f.length&&-1===f.indexOf(e.subtype)&&-1===f.indexOf(e.type)||s.val(e.url).trigger("change")})),n.open())})),a.on("click",(function(e){e.preventDefault(),s.val("").trigger("change")})),s.on("change",(function(t){var n=s.val();n?a.removeClass("hidden"):a.addClass("hidden"),r.length&&(-1!==e.inArray(n.split(".").pop().toLowerCase(),["jpg","jpeg","gif","png","svg","webp"])?(r.removeClass("hidden"),o.attr("src",n)):r.addClass("hidden"))}))}))},e.fn.csf_field_wp_editor=function(){return this.each((function(){var n,i,c,a,r,o,f,l;void 0!==t.wp.editor&&void 0!==t.tinyMCEPreInit&&void 0!==t.tinyMCEPreInit.mceInit.csf_wp_editor&&(i=(n=e(this)).find(".csf-wp-editor"),c=n.find("textarea"),(n.find(".wp-editor-wrap").length||n.find(".mce-container").length)&&(i.empty(),i.append(c),c.css("display","")),a=s.helper.uid("csf-editor-"),c.attr("id",a),r={tinymce:t.tinyMCEPreInit.mceInit.csf_wp_editor,quicktags:t.tinyMCEPreInit.qtInit.csf_wp_editor},o=i.data("editor-settings"),(l=wp.oldEditor||wp.editor)&&l.hasOwnProperty("autop")&&(wp.editor.autop=l.autop,wp.editor.removep=l.removep,wp.editor.initialize=l.initialize),r.tinymce=e.extend({},r.tinymce,{selector:"#"+a,setup:function(e){e.on("change keyup",(function(){var t=o.wpautop?e.getContent():wp.editor.removep(e.getContent());c.val(t).trigger("change")}))}}),!1===o.tinymce&&(r.tinymce=!1,i.addClass("csf-no-tinymce")),!1===o.quicktags&&(r.quicktags=!1,i.addClass("csf-no-quicktags")),f=setInterval((function(){n.is(":visible")&&(t.wp.editor.initialize(a,r),clearInterval(f))})),o.media_buttons&&t.csf_media_buttons&&((l=i.find(".wp-media-buttons")).length?l.find(".csf-shortcode-button").data("editor-id",a):((l=e(t.csf_media_buttons)).find(".csf-shortcode-button").data("editor-id",a),i.prepend(l))))}))},e.fn.csf_confirm=function(){return this.each((function(){e(this).on("click",(function(n){var i=e(this).data("confirm")||t.csf_vars.i18n.confirm;if(!confirm(i))return n.preventDefault(),!1;s.vars.is_confirm=!0,s.vars.form_modified=!1}))}))},e.fn.serializeObject=function(){var t={};return e.each(this.serializeArray(),(function(n,s){var c=s.name;s=s.value;t[c]=t[c]===i?s:e.isArray(t[c])?t[c].concat(s):[t[c],s]})),t},e.fn.csf_save=function(){return this.each((function(){var n,i=e(this),c=e(".csf-save"),a=e(".csf-options"),r=!1;i.on("click",(function(o){var f,l;r||(f=i.data("save"),l=i.val(),c.attr("value",f),i.hasClass("csf-save-ajax")?(o.preventDefault(),a.addClass("csf-saving"),c.prop("disabled",!0),t.wp.ajax.post("csf_"+a.data("unique")+"_ajax_save",{data:e("#csf-form").serializeJSONCSF()}).done((function(t){e(".csf-error").remove(),Object.keys(t.errors).length&&(i='<i class="csf-label-error csf-error">!</i>',e.each(t.errors,(function(t,n){t=e('[data-depend-id="'+t+'"]');var s=e('a[href="#tab='+t.closest(".csf-section").data("section-id")+'"]'),c=s.closest(".csf-tab-item");t.closest(".csf-fieldset").append('<p class="csf-error csf-error-text">'+n+"</p>"),s.find(".csf-error").length||s.append(i),c.find(".csf-arrow .csf-error").length||c.find(".csf-arrow").append(i)}))),a.removeClass("csf-saving"),c.prop("disabled",!1).attr("value",l),r=!1,s.vars.form_modified=!1,s.vars.$form_warning.hide(),clearTimeout(n);var i,o=e(".csf-form-success");o.empty().append(t.notice).fadeIn("fast",(function(){n=setTimeout((function(){o.fadeOut("fast")}),1e3)}))})).fail((function(e){alert(e.error)}))):s.vars.form_modified=!1),r=!0}))}))},e.fn.csf_options=function(){return this.each((function(){var c=e(this),a=c.find(".csf-content"),r=c.find(".csf-form-success"),o=c.find(".csf-form-warning"),f=c.find(".csf-header .csf-save");(s.vars.$form_warning=o).length&&(t.onbeforeunload=function(){return!!s.vars.form_modified||i},a.on("change keypress",":input",(function(){s.vars.form_modified||(r.hide(),o.fadeIn("fast"),s.vars.form_modified=!0)}))),r.hasClass("csf-form-show")&&setTimeout((function(){r.fadeOut("fast")}),1e3),e(n).keydown((function(e){if((e.ctrlKey||e.metaKey)&&83===e.which)return f.trigger("click"),e.preventDefault(),!1}))}))},e.fn.csf_taxonomy=function(){return this.each((function(){var t,n,i=e(this),s=i.parents("form");"addtag"===s.attr("id")&&(t=s.find("#submit"),n=i.children(".csf-field").csf_clone(),t.on("click",(function(){s.find(".form-required").hasClass("form-invalid")||(i.data("inited",!1),i.empty(),i.html(n),n=n.csf_clone(),i.csf_reload_script())})))}))},e.fn.csf_shortcode=function(){var c=this;return c.shortcode_parse=function(t,n){var i="";return e.each(t,(function(t,s){i+="["+(n=n||t),e.each(s,(function(e,t){"content"===e?i=(i+="]")+t+"[/"+n:i+=c.shortcode_tags(e,t)})),i+="]"})),i},c.shortcode_tags=function(t,n){var i="";return""!==n&&("object"!=typeof n||e.isArray(n)?i+=" "+t+'="'+n.toString()+'"':e.each(n,(function(e,t){""!==(t="background-image"===e?t.url||"":t)&&(i+=" "+e+'="'+t.toString()+'"')}))),i},c.insertAtChars=function(e,t){return(e=void 0!==e[0].name?e[0]:e).value.length&&void 0!==e.selectionStart?(e.focus(),e.value.substring(0,e.selectionStart)+t+e.value.substring(e.selectionEnd,e.value.length)):(e.focus(),t)},c.send_to_editor=function(t,n){var i;(i="undefined"!=typeof tinymce?tinymce.get(n):i)&&!i.isHidden()?i.execCommand("mceInsertContent",!1,t):(i=e("#"+n)).val(c.insertAtChars(i,t)).trigger("change")},this.each((function(){var a,r,o,f,l,d,h,p,u,g=e(this),v=g.find(".csf-modal-load"),m=(g.find(".csf-modal-content"),g.find(".csf-modal-insert")),_=g.find(".csf-modal-loading"),b=g.find("select"),y=g.data("modal-id"),w=g.data("nonce");e(n).on("click",'.csf-shortcode-button[data-modal-id="'+y+'"]',(function(t){t.preventDefault(),u=e(this),a=u.data("editor-id")||!1,r=u.data("target-id")||!1,o=u.data("gutenberg-id")||!1,g.removeClass("hidden"),g.hasClass("csf-shortcode-single")&&l===i&&b.trigger("change")})),b.on("change",(function(){var n=e(this),i=n.find(":selected");f=n.val(),l=i.data("shortcode"),d=i.data("view")||"normal",h=i.data("group")||l,v.empty(),f?(_.show(),t.wp.ajax.post("csf-get-shortcode-"+y,{shortcode_key:f,nonce:w}).done((function(t){_.hide(),t=e(t.content).appendTo(v),m.parent().removeClass("hidden"),p=t.find(".csf--repeat-shortcode").csf_clone(),t.csf_reload_script(),t.find(".csf-fields").csf_reload_script()}))):m.parent().addClass("hidden")})),m.on("click",(function(n){if(n.preventDefault(),!m.prop("disabled")&&!m.attr("disabled")){var i="",s=g.find(".csf-field:not(.csf-depend-on)").find(":input:not(.ignore)").serializeObjectCSF();switch(d){case"contents":var f=l?s[l]:s;e.each(f,(function(e,t){i+="["+(e=l||e)+"]"+t+"[/"+e+"]"}));break;case"group":i+="["+l,e.each(s[l],(function(e,t){i+=c.shortcode_tags(e,t)})),i=(i=(i+="]")+c.shortcode_parse(s[h],h))+"[/"+l+"]";break;case"repeater":i+=c.shortcode_parse(s[h],h);break;default:i+=c.shortcode_parse(s)}i=""===i?"["+l+"]":i,o?(n=t.csf_gutenberg_props.attributes.hasOwnProperty("shortcode")?t.csf_gutenberg_props.attributes.shortcode:"",t.csf_gutenberg_props.setAttributes({shortcode:n+i})):a?c.send_to_editor(i,a):(n=r?e(r):u.parent().find("textarea")).val(c.insertAtChars(n,i)).trigger("change"),g.addClass("hidden")}})),g.on("click",".csf--repeat-button",(function(e){e.preventDefault();e=g.find(".csf--repeatable");var t=p.csf_clone(),n=t.find(".csf-repeat-remove");t.appendTo(e),t.find(".csf-fields").csf_reload_script(),s.helper.name_nested_replace(g.find(".csf--repeat-shortcode"),h),n.on("click",(function(){t.remove(),s.helper.name_nested_replace(g.find(".csf--repeat-shortcode"),h)}))})),g.on("click",".csf-modal-close, .csf-modal-overlay",(function(){g.addClass("hidden")}))}))},"function"==typeof Color&&(Color.prototype.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var e=parseInt(this._color,10).toString(16);if(this.error)return"";if(e.length<6)for(var t=6-e.length-1;0<=t;t--)e="0"+e;return"#"+e}),s.funcs.parse_color=function(e){var t=-1!==(e=e.replace(/\s+/g,"")).indexOf("rgba")?parseFloat(100*e.replace(/^.*,(.+)\)/,"$1")):100;return{value:e,transparent:t,rgba:t<100}},e.fn.csf_color=function(){return this.each((function(){var n,i=e(this),c=s.funcs.parse_color(i.val()),a=!t.csf_vars.color_palette.length||t.csf_vars.color_palette;i.hasClass("wp-color-picker")&&i.closest(".wp-picker-container").after(i).remove(),i.wpColorPicker({palettes:a,change:function(e,t){t=t.color.toString(),n.removeClass("csf--transparent-active"),n.find(".csf--transparent-offset").css("background-color",t),i.val(t).trigger("change")},create:function(){n=i.closest(".wp-picker-container");var t=i.data("a8cIris"),a=(f=e('<div class="csf--transparent-wrap"><div class="csf--transparent-slider"></div><div class="csf--transparent-offset"></div><div class="csf--transparent-text"></div><div class="csf--transparent-button">transparent <i class="fas fa-toggle-off"></i></div></div>').appendTo(n.find(".wp-picker-holder"))).find(".csf--transparent-slider"),r=f.find(".csf--transparent-text"),o=f.find(".csf--transparent-offset"),f=f.find(".csf--transparent-button");"transparent"===i.val()&&n.addClass("csf--transparent-active"),f.on("click",(function(){"transparent"!==i.val()?(i.val("transparent").trigger("change").removeClass("iris-error"),n.addClass("csf--transparent-active")):(i.val(t._color.toString()).trigger("change"),n.removeClass("csf--transparent-active"))})),a.slider({value:c.transparent,step:1,min:0,max:100,slide:function(e,n){n=parseFloat(n.value/100),t._color._alpha=n,i.wpColorPicker("color",t._color.toString()),r.text(1===n||0===n?"":n)},create:function(){var e=parseFloat(c.transparent/100);r.text(e<1?e:""),o.css("background-color",c.value),n.on("click",".wp-picker-clear",(function(){t._color._alpha=1,r.text(""),a.slider("option","value",100),n.removeClass("csf--transparent-active"),i.trigger("change")})),n.on("click",".wp-picker-default",(function(){var e=s.funcs.parse_color(i.data("default-color")),c=parseFloat(e.transparent/100),o=c<1?c:"";t._color._alpha=c,r.text(o),a.slider("option","value",e.transparent),"transparent"===e.value&&(i.removeClass("iris-error"),n.addClass("csf--transparent-active"))}))}})}})}))},e.fn.csf_chosen=function(){return this.each((function(){var n,s,c=e(this),a=c.parent().find(".chosen-container"),r=c.hasClass("csf-chosen-sortable")||!1,o=c.hasClass("csf-chosen-ajax")||!1,f=c.attr("multiple")||!1,l=e.extend({allow_single_deselect:!0,disable_search_threshold:10,width:f?"100%":"auto",no_results_text:t.csf_vars.i18n.no_results_text},c.data("chosen-settings"));a.length&&a.remove(),o?(a=e.extend({data:{type:"post",nonce:""},allow_single_deselect:!0,disable_search_threshold:-1,width:"100%",min_length:3,type_delay:500,typing_text:t.csf_vars.i18n.typing_text,searching_text:t.csf_vars.i18n.searching_text,no_results_text:t.csf_vars.i18n.no_results_text},c.data("chosen-settings")),c.CSFAjaxChosen(a)):c.chosen(l),f&&(o=(n=c.parent().find(".csf-hide-select")).val()||[],c.on("change",(function(e,s){s&&s.selected?n.append('<option value="'+s.selected+'" selected="selected">'+s.selected+"</option>"):s&&s.deselected&&n.find('option[value="'+s.deselected+'"]').remove(),t.wp.customize!==i&&0===n.children().length&&n.data("customize-setting-link")&&t.wp.customize.control(n.data("customize-setting-link")).setting.set(""),n.trigger("change")})),c.CSFChosenOrder(o,!0)),r&&((s=c.parent().find(".chosen-container").find(".chosen-choices")).bind("mousedown",(function(t){e(t.target).is("span")&&t.stopPropagation()})),s.sortable({items:"li:not(.search-field)",helper:"orginal",cursor:"move",placeholder:"search-choice-placeholder",start:function(e,t){t.placeholder.width(t.item.innerWidth()),t.placeholder.height(t.item.innerHeight())},update:function(t,n){var i="",a=c.data("chosen"),r=c.parent().find(".csf-hide-select");s.find(".search-choice-close").each((function(){var t=e(this).data("option-array-index");e.each(a.results_data,(function(e,n){n.array_index===t&&(i+='<option value="'+n.value+'" selected>'+n.value+"</option>")}))})),r.children().remove(),r.append(i),r.trigger("change")}}))}))},e.fn.csf_checkbox=function(){return this.each((function(){var t=e(this),n=t.find(".csf--input"),i=t.find(".csf--checkbox");i.on("click",(function(){n.val(Number(i.prop("checked"))).trigger("change")}))}))},e.fn.csf_checkbox_all=function(){return this.each((function(){var t=e(this);t.on("click",(function(){var n=t.closest(".csf-field-checkbox").find(":input"),i=!1;n.each((function(){e(this).prop("checked")||(i=!0)})),i?(n.prop("checked","checked"),n.attr("checked","checked")):(n.prop("checked",""),n.removeAttr("checked")),n.first().trigger("change")}))}))},e.fn.csf_siblings=function(){return this.each((function(){var t=e(this),n=t.find(".csf--sibling"),i=t.data("multiple")||!1;n.on("click",(function(){var n=e(this);i?n.hasClass("csf--active")?(n.removeClass("csf--active"),n.find("input").prop("checked",!1).trigger("change")):(n.addClass("csf--active"),n.find("input").prop("checked",!0).trigger("change")):(t.find("input").prop("checked",!1),n.find("input").prop("checked",!0).trigger("change"),n.addClass("csf--active").siblings().removeClass("csf--active"))}))}))},e.fn.csf_help=function(){return this.each((function(){var t,n,c=e(this);c.on({mouseenter:function(){t=e('<div class="csf-tooltip"></div>').html(c.find(".csf-help-text").html()).appendTo("body"),n=s.vars.is_rtl?c.offset().left+24:c.offset().left-t.outerWidth(),t.css({top:c.offset().top-(t.outerHeight()/2-14),left:n})},mouseleave:function(){t!==i&&t.remove()}})}))},e.fn.csf_customizer_refresh=function(){return this.each((function(){var s=e(this);if((r=s.closest(".csf-customize-complex")).length){if((c=r.data("unique-id"))===i)return;var c,a=r.find(":input"),r=r.data("option-id");a=a.serializeObjectCSF(),a=!e.isEmptyObject(a)&&a[c]&&a[c][r]?a[c][r]:"";(c=t.wp.customize.control(c+"["+r+"]")).setting._value=null,c.setting.set(a)}else s.find(":input").first().trigger("change");e(n).trigger("csf-customizer-refresh",s)}))},e.fn.csf_customizer_listen=function(n){var s=e.extend({closest:!1},n);return this.each((function(){var n,c,a,r;t.wp.customize!==i&&(c=(n=s.closest?e(this).closest(".csf-customize-complex"):e(this)).find(":input"),a=n.data("unique-id"),r=n.data("option-id"),a!==i&&c.on("change keyup csf.change",(function(){var i=n.find(":input").serializeObjectCSF();i=!e.isEmptyObject(i)&&i[a]&&i[a][r]?i[a][r]:"";t.wp.customize.control(a+"["+r+"]").setting.set(i)})))}))},e(n).on("expanded",".control-section",(function(){var t,n,i=e(this);i.hasClass("open")&&!i.data("inited")&&(t=i.find(".csf-customize-field"),n=i.find(".csf-customize-complex"),t.length&&(i.csf_dependency(),t.csf_reload_script({dependency:!1}),n.csf_customizer_listen()),i.data("inited",!0))})),s.vars.$window.on("resize csf.resize",s.helper.debounce((function(n){(-1<navigator.userAgent.indexOf("AppleWebKit/")?s.vars.$window.width():t.innerWidth)<=782&&!s.vars.onloaded&&(e(".csf-section").csf_reload_script(),s.vars.onloaded=!0)}),200)).trigger("csf.resize"),e.fn.csf_widgets=function(){return this.each((function(){e(n).on("widget-added widget-updated",(function(e,t){(t=t.find(".csf-fields")).length&&t.csf_reload_script()})),e(n).on("click",".widget-top",(function(t){var n=e(this).parent().find(".csf-fields");n.length&&n.csf_reload_script()})),e(".widgets-sortables, .control-section-sidebar").on("sortstop",(function(e,t){t.item.find(".csf-fields").csf_reload_script_retry()}))}))},e.fn.csf_nav_menu=function(){return this.each((function(){var t=e(this);t.on("click","a.item-edit",(function(){e(this).closest("li.menu-item").find(".csf-fields").csf_reload_script()})),t.on("sortstop",(function(e,t){t.item.find(".csf-fields").csf_reload_script_retry()}))}))},e.fn.csf_reload_script_retry=function(){return this.each((function(){var t=e(this);t.data("inited")&&t.children(".csf-field-wp_editor").csf_field_wp_editor()}))},e.fn.csf_reload_script=function(t){var i=e.extend({dependency:!0},t);return this.each((function(){var t=e(this);t.data("inited")||(t.children(".csf-field-accordion").csf_field_accordion(),t.children(".csf-field-backup").csf_field_backup(),t.children(".csf-field-background").csf_field_background(),t.children(".csf-field-code_editor").csf_field_code_editor(),t.children(".csf-field-date").csf_field_date(),t.children(".csf-field-datetime").csf_field_datetime(),t.children(".csf-field-fieldset").csf_field_fieldset(),t.children(".csf-field-gallery").csf_field_gallery(),t.children(".csf-field-group").csf_field_group(),t.children(".csf-field-icon").csf_field_icon(),t.children(".csf-field-link").csf_field_link(),t.children(".csf-field-media").csf_field_media(),t.children(".csf-field-map").csf_field_map(),t.children(".csf-field-repeater").csf_field_repeater(),t.children(".csf-field-slider").csf_field_slider(),t.children(".csf-field-sortable").csf_field_sortable(),t.children(".csf-field-sorter").csf_field_sorter(),t.children(".csf-field-spinner").csf_field_spinner(),t.children(".csf-field-switcher").csf_field_switcher(),t.children(".csf-field-tabbed").csf_field_tabbed(),t.children(".csf-field-typography").csf_field_typography(),t.children(".csf-field-upload").csf_field_upload(),t.children(".csf-field-wp_editor").csf_field_wp_editor(),t.children(".csf-field-border").find(".csf-color").csf_color(),t.children(".csf-field-background").find(".csf-color").csf_color(),t.children(".csf-field-color").find(".csf-color").csf_color(),t.children(".csf-field-color_group").find(".csf-color").csf_color(),t.children(".csf-field-link_color").find(".csf-color").csf_color(),t.children(".csf-field-typography").find(".csf-color").csf_color(),t.children(".csf-field-select").find(".csf-chosen").csf_chosen(),t.children(".csf-field-checkbox").find(".csf-checkbox").csf_checkbox(),t.children(".csf-field-checkbox").find(".csf-checkbox-all").csf_checkbox_all(),t.children(".csf-field-button_set").find(".csf-siblings").csf_siblings(),t.children(".csf-field-image_select").find(".csf-siblings").csf_siblings(),t.children(".csf-field-palette").find(".csf-siblings").csf_siblings(),t.children(".csf-field").find(".csf-help").csf_help(),i.dependency&&t.csf_dependency(),t.data("inited",!0),e(n).trigger("csf-reload-script",t))}))},e(n).ready((function(){e(".csf-save").csf_save(),e(".csf-options").csf_options(),e(".csf-sticky-header").csf_sticky(),e(".csf-nav-options").csf_nav_options(),e(".csf-nav-metabox").csf_nav_metabox(),e(".csf-taxonomy").csf_taxonomy(),e(".csf-page-templates").csf_page_templates(),e(".csf-post-formats").csf_post_formats(),e(".csf-shortcode").csf_shortcode(),e(".csf-search").csf_search(),e(".csf-confirm").csf_confirm(),e(".csf-expand-all").csf_expand_all(),e(".csf-onload").csf_reload_script(),e("#widgets-editor").csf_widgets(),e("#widgets-right").csf_widgets(),e("#menu-to-edit").csf_nav_menu()}))}(jQuery,window,document);